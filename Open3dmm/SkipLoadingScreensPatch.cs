namespace Open3dmm
{
    // Based on Foone's skip-loading-screens patch.
    public class SkipLoadingScreensPatch : Patch
    {
        static byte[] part1 = new byte[] { 0x0F, 0x84, 0x44, 0x01, 0x00, 0x00, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x8B, 0xCE };
        static byte[] part2 = new byte[] { 0x0F, 0x84, 0xC9, 0x00, 0x00, 0x00, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x90, 0x6A, 0x00 };

        public override bool ApplyPatch()
        {
            return ReplaceMemory(0x0040788f, part1) && ReplaceMemory(0x0040790a, part2);
        }
    }
}
